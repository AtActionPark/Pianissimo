!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.pianissimo=e():t.pianissimo=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}({7:function(t,e,n){"use strict";(function(t){var n,r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===i(e)&&"object"===i(t)?t.exports=s():(r=[],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o))}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){t.exports={fullNotesList:["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"],midiNotesList:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],notesOrder:{Cbb:-2,Cb:-1,C:0,"C#":1,"C##":2,Cx:2,Dbb:0,Db:1,D:2,"D#":3,"D##":4,x:4,Ebb:2,Eb:3,E:4,"E#":5,"E##":6,Ex:6,Fbb:3,Fb:4,F:5,"F#":6,"F##":7,Fx:7,Gbb:5,Gb:6,G:7,"G#":8,"G##":9,Gx:9,Abb:7,Ab:8,A:9,"A#":10,"A##":11,Ax:11,Bbb:9,Bb:10,B:11,"B#":12,"B##":13,Bx:13},wholeNotesOrder:{C:1,D:2,E:3,F:4,G:5,A:6,B:7},letterToName:{A:"la",B:"si",C:"do",D:"re",E:"mi",F:"fa",G:"sol"},nameToLetter:{la:"A",si:"B",do:"C",re:"D",mi:"E",fa:"F",sol:"G"},intervalQualityDict:{m:"minor",M:"major",P:"perfect",A:"augmented",d:"diminished",$:"magical"},intervalNumberDict:{1:"unison",2:"second",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"octave",9:"ninth",10:"tenth",11:"eleventh",12:"twelfth",13:"thirteenth",14:"fourteenth",15:"fifteenth"},intervalsDict:{A0:12,m0:10,M0:11,d0:9,P1:0,d2:0,m2:1,A1:1,M2:2,d3:2,m3:3,A2:3,M3:4,d4:4,P4:5,A3:5,d5:6,A4:6,P5:7,d6:7,m6:8,A5:8,M6:9,d7:9,m7:10,A6:10,M7:11,d8:11,P8:12,A7:12,A8:13},scalesDict:{majorpentatonic:["P1","M2","M3","P5","M6"],pentatonic:["P1","M2","M3","P5","M6"],minorpentatonic:["P1","m3","P4","P5","m7"],blues:["P1","m3","P4","d5","P5","m7"],wholetone:["P1","M2","M3","A4","A5","A6"],augmented:["P1","m3","M3","P5","A5","M7"],promotheus:["P1","M2","M3","A4","M6","m7"],tritone:["P1","m2","M2","A4","P5","m7"],major:["P1","M2","M3","P4","P5","M6","M7"],minor:["P1","M2","m3","P4","P5","m6","m7"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],harmonicmajor:["P1","M2","M3","P4","P5","m6","M7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],aeolian:["P1","M2","m3","P4","P5","m6","m7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],enigmatic:["P1","m2","M3","A4","A5","A6","M7"],halfdimished:["P1","M2","m3","P4","d5","m6","m7"],hungarianminor:["P1","M2","m3","A4","P5","m6","m7"],octatonic:["P1","m2","m3","M3","A4","P5","M6","m7"],diminished:["P1","M2","m3","P4","A4","A5","M6","M7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"]},A4Freq:440,scaleTones:{1:"tonic",2:"supertonic",3:"mediant",4:"subdominant",5:"dominant",6:"submediant",7:"leadingNote"}}},function(t,e,n){function r(t){if(Number.isInteger(t)){if(!u.isValidMidiNoteNumber(t))throw t+" is not a midi note number";t=u.midiToName(t)}this[m]=t,M(this),this.note=this[m]}var o=n(0),i=n(3),a=n(5),s=n(4),u=n(2),m=Symbol("name"),c=Symbol("root"),l=Symbol("rootName"),h=Symbol("alteration"),f=Symbol("octave"),g=Symbol("notationType");t.exports=r,r.prototype.getName=function(){return this[m]},r.prototype.getRoot=function(){return this[c]},r.prototype.getRootName=function(){return this[l]},r.prototype.getAlteration=function(){return this[h]},r.prototype.getOctave=function(){return this[f]},r.prototype.getNotationType=function(){return this[g]},r.prototype.getMidiNumber=function(){return u.nameToMidi(this.getRootAsLetter(),this.getOctave())},r.prototype.getRootAsLetter=function(){return void 0!=o.wholeNotesOrder[this.getRootName()]?this.getRoot():o.nameToLetter[this.getRootName().toLowerCase()]+this.getAlteration()},r.prototype.getRootNameAsLetter=function(){return void 0!=o.wholeNotesOrder[this.getRootName()]?this.getRootName():o.nameToLetter[this.getRootName().toLowerCase()]},r.prototype.plusInterval=function(t,e){if("string"==typeof t&&(t=e&&"string"==typeof e?new i(t,e):new i(t)),"$"==t.getQuality())return"impossible to compute";for(var n=this.getOctave(),a=n,s=this.getRootAsLetter(),u=this.getRootNameAsLetter(),m=this.getAlteration(),c="ascending"==t.getOrderAsString()||""==t.getOrderAsString()?1:-1,l=P(this,t),h=t.getSemitones();h>12;)a+=1,h-=12;for(;h<-12;)a-=1,h+=12;12==h&&(a+=1),-12==h&&(a-=1);var f=(o.notesOrder[l]-o.notesOrder[s])*c;u==l&&(f=-c*(a-n)*12,"#"==m&&(h+=1),"b"==m&&(h-=1)),t.getNumber()%7==1&&"d"!=t.getQuality()&&(a-=1*c),t.getNumber()%7==0&&"A"==t.getQuality()&&(a-=1*c),(f<0||-0==Math.sign(f))&&(f+=12,a+=1*c);for(var g=c*f-h;g>12;)g-=12;for(;g<-12;)g+=12;g>2&&(g-=12),g<-2&&(g+=12);var d="";if(1==g&&(d="b"),-1==g&&(d="#"),2==g&&(d="bb"),-2==g&&(d="##"),g>2||g<-2)return"impossible to compute";var p=new r(l+d+a);return b(p,this.getNotationType()),A(p),p},r.prototype.toScale=function(t,e){return new a(this,t,e)},r.prototype.toChord=function(t){return new s(this,t)},r.prototype.toInterval=function(t){return new i(this,t)},r.prototype.getFrequency=function(){var t=o.A4Freq,e=Math.pow(2,1/12),n=o.notesOrder[this.getRootAsLetter()]-o.notesOrder.A+12*(this.getOctave()-4);return Math.round(t*Math.pow(e,n)*100)/100};var d=function(t,e){t[m]=e},p=function(t,e){t[c]=e},v=function(t,e){t[l]=e},y=function(t,e){t[h]=e},N=function(t,e){t[f]=e},b=function(t,e){t[g]=e},M=function(t){var e=new RegExp("[0-9]+","g");t.getName().match(e)?N(t,parseInt(t.getName().match(e)[0])):(d(t,(t.getName()+"3").replace(/ /g,"")),N(t,3));var n=t.getName();if(n=n.replace(/♯/g,"#"),n=n.replace(/♭/g,"b"),n=n.replace("♮",""),p(t,n.match(/[^0-9]+/g)[0]),v(t,n.match(/[^#bx0-9)]+/g)[0]),!u.isValidNoteName(t.getRootName()))throw t.getRootName()+" is not a note";var r=n.match(/[#bx)]+/g);if(r=r?r[0]:"",!u.isValidAlteration(r))throw r+" is not a valid alteration";y(t,r),b(t,void 0!=o.wholeNotesOrder[t.getRootName()]?"letter":"name")},P=function(t,e){var n=t.getRootNameAsLetter(),r="ascending"==e.getOrderAsString()||""==e.getOrderAsString()?1:-1,i=(o.wholeNotesOrder[n]+r*(e.getNumber()-1))%7;return 0==i&&(i=7),i<0&&(i+=7),u.getKeyByValue(o.wholeNotesOrder,i)},A=function(t){"name"==t.getNotationType()&&(v(t,u.capitalizeFirstLetter(o.letterToName[t.getRootName()])),p(t,t.getRootName()+t.getAlteration()),d(t,t.getRoot()+t.getOctave()))}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":i(t)},o=n(0);t.exports={getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},pickRandomProperty:function(t){var e=Object.keys(t);return e[e.length*Math.random()<<0]},pickRandomArray:function(t){return t[t.length*Math.random()<<0]},getKeyByValue:function(t,e){return Object.keys(t).find(function(n){return t[n]===e})},isValidMidiNoteNumber:function(t){return 20<=t&&t<=127},isNote:function(t){return"object"==(void 0===t?"undefined":r(t))&&void 0!=t.getRootAsLetter()},isValidNoteName:function(t){return void 0!=o.wholeNotesOrder[t]||void 0!=this.getKeyByValue(o.letterToName,t.toLowerCase())},isValidNoteNotation:function(t){if(this.isNote(t))return!0;var e=new RegExp("[^0-9#bx)]+","g"),n=t.match(e)[0];return void 0!=o.wholeNotesOrder[n]||void 0!=this.getKeyByValue(o.letterToName,n.toLowerCase())},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},isInterval:function(t){var e=t.slice(0,1),n=t.slice(1);return(e==P||e==M||e==m||e==d||e==A)&&Number.isInteger(parseInt(n))},nameToMidi:function(t,e){return 12*(e+1)+o.notesOrder[t]},midiToName:function(t){var e=Math.floor(t/12)-1;return o.midiNotesList[t%12]+e},isValidAlteration:function(t){return""==t||"#"==t||"b"==t||"##"==t||"x"==t||"bb"==t}}},function(t,e,n){function r(t,e){var r=n(1);t instanceof r&&e instanceof r?(this[f]=t,this[g]=e,O(this)):t instanceof r&&o.isValidNoteNotation(e)?(this[f]=t,this[g]=new r(e),O(this)):o.isValidNoteNotation(t)&&e&&e instanceof r?(this[f]=new r(t),this[g]=e,O(this)):o.isValidNoteNotation(t)&&e&&o.isValidNoteNotation(e)?(this[f]=new r(t),this[g]=new r(e),O(this)):(this[a]=t,this[u]=e,D(this,this.getName(),this.getOrder())),this.interval=this[a]}var o=n(2),i=n(0),a=Symbol("name"),s=Symbol("semitones"),u=Symbol("order"),m=Symbol("number"),c=Symbol("quality"),l=Symbol("qualityText"),h=Symbol("numberText"),f=Symbol("note1"),g=Symbol("note2");t.exports=r,r.prototype.getName=function(){return this[a]},r.prototype.getSemitones=function(){return this[s]},r.prototype.getOrder=function(){return this[u]},r.prototype.getNumber=function(){return this[m]},r.prototype.getQuality=function(){return this[c]},r.prototype.getQualityText=function(){return this[l]},r.prototype.getNumberText=function(){return this[h]},r.prototype.getNote1=function(){return this[f]},r.prototype.getNote2=function(){return this[g]},r.prototype.getNotes=function(){return[this[f],this[g]]},r.prototype.getNotesName=function(){return[this[f].getName(),this[g].getName()]},r.prototype.getNotesFrequencies=function(){return[this[f].getFrequency(),this[g].getFrequency()]},r.prototype.getOrderAsString=function(){return"+"==this.getOrder()||Number.isInteger(this.getOrder())&&this.getOrder()>0?"ascending":"-"==this.getOrder()||Number.isInteger(this.getOrder())&&this.getOrder()<0?"descending":this.getOrder()},r.prototype.invert=function(){var t=9-this.getNumber()%7,e="P";return"m"==this.getQuality()&&(e="M"),"M"==this.getQuality()&&(e="m"),"d"==this.getQuality()&&(e="A"),"A"==this.getQuality()&&(e="d"),D(this,e+t,this.getOrder()),this.getNote1()&&this.getNote2()&&(P(this,this.getNote2()),A(this,this.getNote2().plusInterval(this))),this};var d=function(t,e){t[a]=e},p=function(t,e){t[s]=e},v=function(t,e){t[u]=e},y=function(t,e){t[m]=e},N=function(t,e){t[c]=e},b=function(t,e){t[l]=e},M=function(t,e){t[h]=e},P=function(t,e){t[f]=e},A=function(t,e){t[g]=e},O=function(t){w(t),R(t),S(t),x(t),d(t,""+t.getQuality()+t.getNumber()),b(t,i.intervalQualityDict[t.getQuality()]),M(t,i.intervalNumberDict[t.getNumber()]),void 0==t.getNumberText()&&M(t,t.getNumber()+"th")},w=function(t){var e=t.getNote1().getOctave(),n=t.getNote1().getRootAsLetter(),r=t.getNote2().getOctave(),o=t.getNote2().getRootAsLetter(),a=i.notesOrder[o]-i.notesOrder[n]+12*(r-e);p(t,a)},S=function(t){var e=t.getNote1().getOctave(),n=t.getNote1().getRootNameAsLetter(),r=t.getNote2().getOctave(),o=t.getNote2().getRootNameAsLetter(),a=i.wholeNotesOrder[o]-i.wholeNotesOrder[n]+1+7*(r-e);e==r&&a>7&&(a-=7),r>e||r==e&&i.wholeNotesOrder[o]>=i.wholeNotesOrder[n]?y(t,a):y(t,2-a)},x=function(t){var e=t.getNumber()%7,n=Math.abs(t.getSemitones())%12,r=void 0;switch(n){case 0:1==e?r="P":2==e?r="d":e%7==0&&(r="A");break;case 1:1==e?r="A":2==e&&(r="m");break;case 2:2==e?r="M":3==e&&(r="d");break;case 3:2==e?r="A":3==e&&(r="m");break;case 4:3==e?r="M":4==e&&(r="d");break;case 5:3==e?r="A":4==e&&(r="P");break;case 6:4==e?r="A":5==e&&(r="d");break;case 7:5==e?r="P":6==e&&(r="d");break;case 8:5==e?r="A":6==e&&(r="m");break;case 9:e%7==0?r="d":7==e?r="d":6==e&&(r="M");break;case 10:e%7==0?r="m":6==e&&(r="A");break;case 11:e%7==0?r="M":e%7==1&&(r="d");break;case 12:8==e?r="P":7==e?r="A":9==e&&(r="d")}N(t,r),void 0==t.getQuality()&&N(t,"$")},R=function(t){var e=t.getSemitones();if(e>0)v(t,"ascending");else if(e<0)v(t,"descending");else{v(t,"");var n=t.getNote1().getRootNameAsLetter(),r=t.getNote2().getRootNameAsLetter(),o=i.wholeNotesOrder[r]-i.wholeNotesOrder[n];o<-7&&(o+=7),o>7&&(o-=7),v(t,o>=0?"ascending":"descending")}},D=function(t,e,n){d(t,e),v(t,n||"ascending");var r=new RegExp("[0-9)]+","g");y(t,parseInt(t.getName().match(r)[0]));var o=new RegExp("[^0-9)]+","g");N(t,t.getName().match(o)[0]),p(t,("ascending"==t.getOrderAsString()?1:-1)*j(t)),b(t,i.intervalQualityDict[t.getQuality()]),M(t,i.intervalNumberDict[t.getNumber()]),void 0==t.getNumberText()&&M(t,t.getNumber()+"th")},j=function(t){var e=t.getNumber()-1,n=0;if(t.getNumber()<=8)n=i.intervalsDict[t.getName()];else{for(;e>=7;)e-=7,n+=12;var r=t.getQuality()+t.getNumber()%7;n+=i.intervalsDict[r]}return n}},function(t,e,n){function r(t,e){var r=n(1);if(Array.isArray(t)){if(this[i]=t[0]instanceof r?t[0]:new r(t[0]),this[s]="not specified",this[a]=e||"no name",this[u]=t.map(function(t){return t instanceof r?t:new r(t)}),this[m]=O(this.getNotes()),void 0==e){var o=w(this);c(this,o[0][0])}return this.chord=this.getName(),this}if(void 0==e){var l=g(t);e=l[1],t=l[0]}t instanceof r||(t=new r(t)),this[i]=t,this[s]=e,this[a]=this.getTonic().getRoot()+this.getSymbols(),this[u]=[],this[m]=[];var h=f(this.getName());d(this,h),this.chord=this.getName()}var o=n(3);t.exports=r;var i=Symbol("tonic"),a=Symbol("name"),s=Symbol("symbols"),u=Symbol("notes"),m=Symbol("intervals");r.prototype.getTonic=function(){return this[i]},r.prototype.getSymbols=function(){return this[s]},r.prototype.getName=function(){return this[a]},r.prototype.getNotes=function(){return this[u]},r.prototype.getIntervals=function(){return this[m]},r.prototype.getNotesName=function(){return this.getNotes().map(function(t){return t.getName()})},r.prototype.getNotesFrequencies=function(){return this.getNotes().map(function(t){return t.getFrequency()})},r.prototype.transpose=function(t,e){var n=this.getNotes().map(function(n){return n.plusInterval(t,e)});l(this,n);var r=this.getSymbols().match(/\/[^0-9]+/g,""),o=this.getSymbols().replace(/\/[^0-9]+/g,""),i=this.getTonic().plusInterval(t,e).getRoot();r&&(o+="/"+n[0].getRoot()),c(this,i+o)},r.prototype.invert=function(t){if(!(t<1)){t=t||1;for(var e=[],n=[],r=0;r<t;r++){var o=this.getNotes(),i=o.shift().plusInterval("P8");o.push(i),e=o,n=O(e)}l(this,e),h(this,n)}},r.prototype.findAlternateNames=function(){return w(this).map(function(t){return t[1]})},r.prototype.findBestName=function(){var t="randomLongAssStringThatMaybeShouldBeLonger";return w(this).map(function(t){return t[0]}).forEach(function(e){e.length<t.length&&(t=e)}),c(this,t),t};var c=function(t,e){t[a]=e,t.chord=e},l=function(t,e){t[u]=e},h=function(t,e){t[m]=e},f=function(t){var e=t.match(/\/[^0-9]+/g);t=t.replace(/\/[^0-9]+/g,"");var n=!1;"5"==t.charAt(1)&&(n=!0);var r=t.match(/no\d+/g);t=t.replace(/no\d+/g,"");var o=t.match(/(Major|Maj|maj|M|Δ|Ma|Δ)\d+|Δ/g);t=t.replace(/(Major|Maj|maj|M|Δ|Ma|Δ)\d+|Δ/g,"");var i=t.match(/[^♯♭b#sd]\d+/g),a=t.match(/(♯♯|##|Aug|aug|Augmented|augmented|\+)/g);t=t.replace(/(♯♯|##|Aug|aug|Augmented|augmented|\+)/g,"");var s=t.match(/(dom|Dom|dominant|Dominant)/g);t=t.replace(/(dom|Dom|dominant|Dominant)/g,"");var u=t.match(/ø|Ø|hdin|halfDim/g);t=t.replace(/ø|Ø|hdin|halfDim/g,"");var m=t.match(/(♭♭|bb|Dim|dim|Diminished|diminished|°|[^jnDSds]o)♭*b*♯*#*\d*/g);t=t.replace(/(♭♭|bb|Dim|dim|Diminished|diminished|°|[^jnDSds]o)\d*/g,"");var c=t.match(/M|Major|major|maj/g);t=t.replace(/Major|major|maj/g,"");var l=t.match(/(m|min|Min|minor|Minor|-)/g);t=t.replace(/(m|min|Min|minor|Minor|-)/g,"");var h=t.match(/(\/|add(b*|#*|♭*|♯*))\d+/g);return t=t.replace(/(\/|add(b*|#*|♭*|♯*))\d+/g,""),{major:c,minor:l,majx:o,otherNum:i,dim:m,aug:a,dom:s,halfDim:u,sharps:t.match(/(♯|#|sharp)\d+/g),flats:t.match(/(♭|b|flat)\d+/g),add:h,sus:t.match(/sus\d*/g),powerchord:n,no:r,slash:e}},g=function(t){var e=t.match(/^(Do|do|Re|re|Mi|mi|Fa|fa|Sol|sol|La|la|Si|si|A|a|B|b|C|c|D|d|E|e|F|f|G|g)#*b*♯*♭*/g)[0];return t=t.replace(/^(Do|do|Re|re|Mi|mi|Fa|fa|Sol|sol|La|la|Si|si|A|a|B|b|C|c|D|d|E|e|F|f|G|g)#*b*♯*♭*/g,""),[e,t]},d=function(t,e){var n=["P1","M3","P5"];if(null!=e.otherNum)for(var r=0;r<e.otherNum.length;r++){var i=e.otherNum[r].slice(1);if(i>8){n=y(n,"m7");for(var a=9;a<=i;a+=2){var s=a%7==1||a%7==4||a%7==5?"P":"M";n=y(n,s+a)}}7==i&&(n=y(n,"M3"),n=y(n,"P5"),n=y(n,"m7")),6==i&&(n=y(n,"M3"),n=y(n,"P5"),"m"==e.otherNum[r].charAt(0)||"b"==e.otherNum[r].charAt(0)?(n=y(n,"m3"),n=y(n,"M"+i)):n=y(n,"M"+i))}if(null!=e.major&&(n=y(n,"M3"),n=y(n,"P5")),null!=e.majx)for(var u=0;u<e.majx.length;u++){var m=e.majx[u].match(/\d+/g);if(n=y(n,"M3"),n=y(n,"P5"),void 0==m)n=y(n,"M7");else if(6==m)n=y(n,"M6");else for(var c=7;c<=m;c+=2){var f=c%7==4?"P":"M";n=y(n,f+c)}}if(null!=e.minor&&(n=y(n,"m3"),n=y(n,"P5")),null!=e.aug&&(n=y(n,"M3"),n=y(n,"A5")),null!=e.halfDim&&(n=y(n,"m3"),n=y(n,"d5"),n=y(n,"m7")),null!=e.sharps)for(var g=0;g<e.sharps.length;g++){var d=e.sharps[g].match(/\d+/g);n=7==d?y(n,"M7"):y(n,"A"+d)}if(null!=e.flats)for(var v=0;v<e.flats.length;v++){var b=e.flats[v].match(/\d+/g);n=b%7==1||b%7==4||b%7==5?y(n,"d"+b):y(n,"m"+b)}if(null!=e.add)for(var P=0;P<e.add.length;P++){var A=e.add[P].match(/\d+/g),O=e.add[P].match(/b+|♭+/g),w=e.add[P].match(/#+|♯+/g),S=A%7==1||A%7==4?"P":"M";O?S=A%7==1||A%7==4?"d":"m":w&&(S=A%7==0?"M":"A"),n=y(n,S+A)}if(null!=e.dim){n=y(n,"m3"),n=y(n,"d5");var x=e.dim[0].match(/\d+/);3==x&&(n=y(n,"d3")),x>=7&&(n=y(n,"d7"))}if(null!=e.sus)for(var R=0;R<e.sus.length;R++){var D=e.sus[R].match(/\d+/g);n=p(n,"m3"),n=p(n,"M3"),2==D||9==D?n=y(n,"M2"):4==D?n=y(n,"P4"):24==D?(n=y(n,"M2"),n=y(n,"P4")):null==D&&(n=y(n,"P4"))}if(null!=e.dom&&(n=y(n,"M3"),n=y(n,"m7")),e.powerchord&&(n=p(n,"m3"),n=p(n,"M3"),n=y(n,"P8")),null!=e.no)for(var j=0;j<e.no.length;j++){var T=e.no[j].match(/\d+/);n=p(n,"d"+T),n=p(n,"m"+T),n=p(n,"M"+T),n=p(n,"P"+T),n=p(n,"A"+T)}n=N(n),h(t,n);var L=t.getTonic(),I=n.map(function(t){return L.plusInterval(t)});if(l(t,I),null!=e.slash){var F=e.slash[0].replace(/\//,""),C=M(t,F);if(C>0){var k=I[C].plusInterval("P8","descending");I.unshift(k),I.splice(C+1,1);var B=n[C],E=new o(B).invert();n.unshift("-"+E.getName()),n.splice(C+1,1),h(t,n),l(t,I)}else if(C<0){var Q=new o(L,F+(L.getOctave()-1));n.unshift("-"+Q.getName());var G=L.plusInterval(Q,"descending");I.unshift(G),h(t,n),l(t,I)}}},p=function(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),t},v=function(t,e){var n=t.indexOf(e),r=!1;return n>-1&&(t.splice(n,1),r=!0),r},y=function(t,e){var n=e.slice(1);return b(t,n)&&(t=p(t,"m"+n),t=p(t,"M"+n),t=p(t,"d"+n),t=p(t,"P"+n),t=p(t,"A"+n)),t.push(e),t},N=function(t){return t=t.sort(function(t,e){var n=parseInt(t.match(/\d+/)),r=parseInt(e.match(/\d+/));return n<r?-1:n>r?1:0})},b=function(t,e){return t.reduce(function(t,n){return t||parseInt(n.slice(1))==e},!1)},M=function(t,e){for(var n=t.getNotesName(),r=0;r<n.length;r++)if(n[r].replace(/\d+/,"")==e)return r;return-1},P=function(t){for(var e=[],n=[],o=[],i=0;i<t.length;i++){var a=new r(t,"dummyChord");a.invert(i);var s=O(a.getNotes());e.push(a.getNotes()[0]),n.push(s),o.push(null)}for(var u=t[0],m=t.slice(1),c=0;c<m.length;c++){var l=new r(m,"dummyChord");l.invert(c);var h=O(l.getNotes());e.push(l.getNotes()[0]),n.push(h),o.push(u)}return[e,n,o]},A=function(t,e,n){e=e.map(function(t){return t.getName()});var r=t.getRootName(),o="",i="",a=!1,s=!1;if(v(e,"M3"))v(e,"P5")||(v(e,"A5")?r+="+":v(e,"d5")?o+="♭5":o+="no5"),v(e,"M6")&&(i+="6");else if(v(e,"m3"))v(e,"P5")?r+="m":v(e,"d5")?r+="dim":v(e,"A5")?(r+="m",o+="#5"):(r+="m",o+="no5"),v(e,"M6")&&(i+="6");else if(v(e,"M2"))o+="sus2",v(e,"P4")&&(o+="4"),v(e,"P5")||(o+="no5"),v(e,"M6")&&(i+="6");else if(v(e,"P4"))o+="sus4",v(e,"P5")||(o+="no5"),v(e,"M6")&&(i+="6");else{if(!v(e,"P5"))return"cant find name";v(e,"P8")?a=!0:(s=!0,v(e,"M6")&&(i+="6"))}v(e,"m7")?(i="7",-1!=r.indexOf("dim")&&(-1==o.indexOf("♭5")&&(o+="♭5"),r=r.replace("dim","m")),v(e,"M9")&&(i="9"),v(e,"P11")&&(i="11"),v(e,"M13")&&(i="13")):v(e,"M7")?(i="Δ",-1!=r.indexOf("dim")&&(-1==o.indexOf("♭5")&&(o+="♭5"),r=r.replace("dim","m")),v(e,"M9")&&(i="Δ9"),v(e,"P11")&&(i="Δ11"),v(e,"M13")&&(i="Δ13")):v(e,"d7")&&(i="7",v(e,"M9")&&(i="9"),v(e,"P11")&&(i="11"),v(e,"M13")&&(i="13"));for(var u=1;u<e.length;u++){var m=e[u];if("A9"==m)o+="♯9";else if("m9"==m)o+="♭9";else if("A11"==m)o+="♯11";else if("d11"==m)o+="♭11";else if("A13"==m)o+="♯13";else if("m13"==m)o+="♭13";else{var c=m.match(/\d+/g),l=m.slice(0,1);c%7==1||c%7==4||c%7==5?"P"==l?o+="add"+c:"A"==l?o+="add♯"+c:"d"==l&&(o+="add♭"+c):"M"==l?o+="add"+c:"m"==l?o+="add♭"+c:"A"==l?o+="add♯"+c:"d"==l&&(o+="add♭♭"+c)}}a&&(i?o+="no3":i="5"),s&&(o+="no3"),null!=n&&(o+="/"+n.getRoot());var h=r+i+o;return h=h.replace(/m7♭5/g,"ø")},O=function(t){for(var e=t[0],n=[],r=0;r<t.length;r++){var i=new o(e,t[r]);"descending"==i.getOrder()&&(i=i.invert()),n.push(i)}return n},w=function(t){for(var e=P(t.getNotes()),n=e[0].length,r=[],o=null,i=0;i<n;i++){for(var a=A(e[0][i],e[1][i],e[2][i]),s=[],u=0;u<e[1][i].length;u++){var m=e[0][i].plusInterval(e[1][i][u]);"impossible to compute"!=m&&s.push(m),null!=e[2][i]&&(o=e[2][i])}null!=o&&s.unshift(o),s=s.map(function(t){return t.getName()});var c=a+" - Notes: "+s+" - Intervals: "+e[1][i].map(function(t){return t.getName()});r.push([a,c])}return r}},function(t,e,n){function r(t,e,r){var o=n(1);this[a]=t instanceof o?t:new o(t),this[s]=e,this[u]=r||1,this[m]=[this.getTonic()],l(this,this.getDegree()),this.scale=this[m]}var o=n(4),i=(n(2),n(0));t.exports=r;var a=Symbol("tonic"),s=Symbol("type"),u=Symbol("degree"),m=Symbol("notes");r.prototype.getTonic=function(){return this[a]},r.prototype.getType=function(){return this[s]},r.prototype.getName=function(){return this.getTonic().getRootName()+" "+this.getType()},r.prototype.getDegree=function(){return this[u]},r.prototype.getNotes=function(){return this[m]},r.prototype.getNotesName=function(){return this.getNotes().map(function(t){return t.getName()})},r.prototype.getNotesFrequencies=function(){return this.getNotes().map(function(t){return t.getFrequency()})},r.prototype.getChords=function(t){t=t||3;for(var e=[],n=this.getNotes().length,r=this.getTonic().getRoot(),a=0;a<n;a++){for(var s=[],u=0;u<t;u++){var m=this.getNotes()[(2*u+a)%n];if(2*u+a>n)for(var c=Math.floor((2*u+a)/n),l=0;l<c;l++)m=m.plusInterval("P8");s.push(m)}var h=r+" "+this.getType()+" "+i.scaleTones[a+1];e.push(new o(s,h))}return e};var c=function(t,e){t[m]=e},l=function(t,e){e%=7;var n=i.scalesDict[t.getType().toLowerCase()],r=t.getTonic(),o=n.map(function(t){return r.plusInterval(t)});if(e>1){for(var a=0;a<e-1;a++)o.push(o[0].plusInterval("P8")),o.shift();o=o.map(function(t){return t.plusInterval(n[e-1],"descending")})}c(t,o)}},function(t,e,n){function r(t){return new l(t)}function o(t,e){return new h(t,e)}function i(t,e){return new g(t,e)}function a(t,e){return new f(t,e)}function s(t,e){t=t||3,e=e||3;var n=d.pickRandomArray(p.fullNotesList),r=d.getRandomInt(t,e);return new l(n+r)}function u(){var t=d.pickRandomProperty(p.intervalsDict),e=Math.random()<.5?"ascending":"descending";return new h(t,e)}function m(t){t=t||s();var e=d.pickRandomProperty(p.scalesDict);return new g(t,e)}function c(t){p.A4Freq=t}var l=n(1),h=n(3),f=n(4),g=n(5),d=n(2),p=n(0),v={note:r,interval:o,scale:i,chord:a,randomNote:s,randomInterval:u,randomScale:m,setA4:c,Note:l,Interval:h,Chord:f,Scale:g};t.exports=v}])})}).call(e,n(8)(t))},8:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}})});